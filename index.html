<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–û–ø–ª–∞—Ç–∞ —É—Å–ª—É–≥–∏ | –ÆKassa</title>
    
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –û–†–ò–ì–ò–ù–ê–õ–¨–ù–´–ï —Å—Ç–∏–ª–∏ –∏ —Å–∫—Ä–∏–ø—Ç—ã –ÆKassa -->
    <link rel="stylesheet" href="https://yookassa.ru/integration/simplepay/css/yookassa_construct_form.css?v=1.31.0">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .payment-card {
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 500px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .header h1 {
            color: #333;
            font-size: 28px;
            margin-bottom: 10px;
        }
        
        .header p {
            color: #666;
            font-size: 16px;
        }
        
        .security-badge {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #eee;
            color: #666;
            font-size: 14px;
        }
        
        .security-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        @media (max-width: 600px) {
            .payment-card {
                padding: 25px;
            }
            
            .security-badge {
                flex-direction: column;
                gap: 10px;
            }
            
            /* –ê–¥–∞–ø—Ç–∞—Ü–∏—è –¥–ª—è —Ñ–æ—Ä–º—ã –ÆKassa –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
            .ym-payment-btn-block {
                flex-direction: column !important;
            }
            
            .ym-sum-input {
                width: 100% !important;
                margin-bottom: 15px;
            }
            
            .ym-btn-pay {
                width: 100% !important;
            }
        }
        
        /* –£–ª—É—á—à–∞–µ–º —Å—Ç–∏–ª–∏ —Ñ–æ—Ä–º—ã –ÆKassa */
        .yoomoney-payment-form {
            margin: 0;
        }
        
        .ym-input {
            border: 2px solid #e0e0e0 !important;
            border-radius: 10px !important;
            padding: 12px 15px !important;
            font-size: 16px !important;
        }
        
        .ym-input:focus {
            border-color: #4CAF50 !important;
            box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1) !important;
        }
        
        .ym-btn-pay {
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%) !important;
            border-radius: 10px !important;
            font-weight: 600 !important;
            transition: transform 0.2s, box-shadow 0.2s !important;
        }
        
        .ym-btn-pay:hover {
            transform: translateY(-2px) !important;
            box-shadow: 0 10px 20px rgba(76, 175, 80, 0.3) !important;
        }
    </style>
</head>
<body>
    <div class="payment-card">
        <div class="header">
            <h1>üí≥ –û–ø–ª–∞—Ç–∞ —É—Å–ª—É–≥–∏</h1>
            <p>–ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏ —á–µ—Ä–µ–∑ –ÆKassa</p>
        </div>
        
        <!-- –û–†–ò–ì–ò–ù–ê–õ–¨–ù–ê–Ø –§–û–†–ú–ê –ÆKassa -->
        <form class="yoomoney-payment-form" action="https://yookassa.ru/integration/simplepay/payment" method="post" accept-charset="utf-8">
            
            <!-- –°–∫—Ä—ã—Ç—ã–π –±–ª–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ (–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è –ÆKassa) -->
            <div class="ym-products ym-display-none">
                <div class="ym-block-title ym-products-title">–¢–æ–≤–∞—Ä—ã</div>
                <div class="ym-product">
                    <div class="ym-product-line">
                        <span class="ym-product-description">
                            <span class="ym-product-count">1√ó</span>
                        </span>
                        <span class="ym-product-price" data-price="0.0" data-id="488" data-count="1">
                            0,00&nbsp;‚ÇΩ
                        </span>
                    </div>
                    <input disabled type="hidden" name="text" value="">
                    <input disabled type="hidden" name="price" value="0.0">
                    <input disabled type="hidden" name="quantity" value="1">
                    <input disabled type="hidden" name="paymentSubjectType" value="commodity">
                    <input disabled type="hidden" name="paymentMethodType" value="full_prepayment">
                    <input disabled type="hidden" name="tax" value="1">
                </div>
            </div>
            
            <input value="" type="hidden" name="ym_merchant_receipt">
            
            <!-- –ë–ª–æ–∫ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ -->
            <div class="ym-customer-info">
                <div class="ym-block-title">–î–∞–Ω–Ω—ã–µ –¥–ª—è –æ–ø–ª–∞—Ç—ã</div>
                <input name="cps_phone" 
                       class="ym-input" 
                       placeholder="–¢–µ–ª–µ—Ñ–æ–Ω *" 
                       type="tel" 
                       value=""
                       required>
                <input name="custName" 
                       class="ym-input" 
                       placeholder="–§–ò–û *" 
                       type="text" 
                       value=""
                       required>
            </div>
            
            <div class="ym-hidden-inputs"></div>
            
            <input name="sumEqualPrice" type="hidden" value="true">
            
            <!-- –ë–ª–æ–∫ —Å —Å—É–º–º–æ–π –∏ –∫–Ω–æ–ø–∫–æ–π –æ–ø–ª–∞—Ç—ã -->
            <div class="ym-payment-btn-block ym-before-line ym-align-space-between">
                <div class="ym-input-icon-rub">
                    <input name="sum" 
                           placeholder="0.00" 
                           class="ym-input ym-sum-input ym-required-input" 
                           type="number" 
                           step="any"
                           min="1"
                           required>
                </div>
                <button data-text="–ó–∞–ø–ª–∞—Ç–∏—Ç—å" 
                        class="ym-btn-pay ym-result-price" 
                        type="submit">
                    <span class="ym-text-crop">–ó–∞–ø–ª–∞—Ç–∏—Ç—å</span> 
                    <span class="ym-price-output"></span>
                </button>
                <img src="https://yookassa.ru/integration/simplepay/img/iokassa-gray.svg?v=1.31.0" 
                     class="ym-logo" 
                     width="114" 
                     height="27" 
                     alt="–ÆKassa">
            </div>
            
            <!-- –í–ê–ñ–ù–û: –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à shopId -->
            <input name="shopId" type="hidden" value="1243739">
        </form>
        
        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ -->
        <div class="security-badge">
            <div class="security-item">
                üîí <span>SSL-—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ</span>
            </div>
            <div class="security-item">
                ‚úÖ <span>Visa / Mastercard / –ú–ò–†</span>
            </div>
            <div class="security-item">
                ‚ö° <span>–ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –æ–ø–ª–∞—Ç–∞</span>
            </div>
        </div>
    </div>
    
    <!-- –û–†–ò–ì–ò–ù–ê–õ–¨–ù–´–ô –°–ö–†–ò–ü–¢ –ÆKassa -->
    <script src="https://yookassa.ru/integration/simplepay/js/yookassa_construct_form.js?v=1.31.0"></script>
    
    <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è UX -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –º–∞—Å–∫–∞ –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞
            const phoneInput = document.querySelector('input[name="cps_phone"]');
            
            if (phoneInput) {
                // –ü—Ä–æ—Å—Ç–∞—è –º–∞—Å–∫–∞: —Ä–∞–∑—Ä–µ—à–∞–µ–º —Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã –∏ + –≤ –Ω–∞—á–∞–ª–µ
                phoneInput.addEventListener('input', function(e) {
                    let value = e.target.value;
                    
                    // –£–¥–∞–ª—è–µ–º –≤—Å–µ —Å–∏–º–≤–æ–ª—ã –∫—Ä–æ–º–µ —Ü–∏—Ñ—Ä –∏ +
                    let cleanValue = value.replace(/[^\d+]/g, '');
                    
                    // –ï—Å–ª–∏ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –Ω–µ —Å +7, –¥–æ–±–∞–≤–ª—è–µ–º +7
                    if (!cleanValue.startsWith('+7') && cleanValue.length > 0) {
                        // –ï—Å–ª–∏ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 7 –∏–ª–∏ 8, –¥–æ–±–∞–≤–ª—è–µ–º +
                        if (cleanValue.startsWith('7') || cleanValue.startsWith('8')) {
                            cleanValue = '+7' + cleanValue.substring(1);
                        } else {
                            cleanValue = '+7' + cleanValue;
                        }
                    }
                    
                    // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –¥–ª–∏–Ω—É (11 —Ü–∏—Ñ—Ä –ø–æ—Å–ª–µ +7)
                    if (cleanValue.length > 12) { // +7 + 10 —Ü–∏—Ñ—Ä
                        cleanValue = cleanValue.substring(0, 12);
                    }
                    
                    // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
                    let displayValue = cleanValue;
                    if (cleanValue.length >= 4) {
                        displayValue = cleanValue.substring(0, 2) + ' ' + 
                                     cleanValue.substring(2, 5);
                    }
                    if (cleanValue.length >= 7) {
                        displayValue += ' ' + cleanValue.substring(5, 8);
                    }
                    if (cleanValue.length >= 9) {
                        displayValue += '-' + cleanValue.substring(8, 10);
                    }
                    if (cleanValue.length >= 11) {
                        displayValue += '-' + cleanValue.substring(10, 12);
                    }
                    
                    e.target.value = displayValue;
                });
                
                // –ü—Ä–∏ —Ñ–æ–∫—É—Å–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫—É—Ä—Å–æ—Ä –≤ –∫–æ–Ω–µ—Ü
                phoneInput.addEventListener('focus', function() {
                    if (!this.value) {
                        this.value = '+7 ';
                    }
                    // –ü–µ—Ä–µ–º–µ—â–∞–µ–º –∫—É—Ä—Å–æ—Ä –≤ –∫–æ–Ω–µ—Ü
                    setTimeout(() => {
                        this.selectionStart = this.selectionEnd = this.value.length;
                    }, 0);
                });
                
                // –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ
                const form = document.querySelector('.yoomoney-payment-form');
                if (form) {
                    form.addEventListener('submit', function(e) {
                        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–µ–ª–µ—Ñ–æ–Ω
                        const phoneDigits = phoneInput.value.replace(/\D/g, '');
                        if (phoneDigits.length !== 11) {
                            e.preventDefault();
                            alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (11 —Ü–∏—Ñ—Ä)\n–ü—Ä–∏–º–µ—Ä: +7 999 123-45-67');
                            phoneInput.focus();
                            return false;
                        }
                        
                        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É–º–º—É
                        const amountInput = document.querySelector('input[name="sum"]');
                        if (amountInput) {
                            const amount = parseFloat(amountInput.value);
                            if (amount < 1) {
                                e.preventDefault();
                                alert('–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –ø–ª–∞—Ç–µ–∂–∞: 1 —Ä—É–±–ª—å');
                                amountInput.focus();
                                return false;
                            }
                            if (amount > 1000000) {
                                e.preventDefault();
                                alert('–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –ø–ª–∞—Ç–µ–∂–∞: 1 000 000 —Ä—É–±–ª–µ–π');
                                amountInput.focus();
                                return false;
                            }
                        }
                        
                        return true;
                    });
                }
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—É–º–º—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
            const amountInput = document.querySelector('input[name="sum"]');
            if (amountInput) {
                amountInput.addEventListener('input', function() {
                    updateButtonPrice();
                });
                
                function updateButtonPrice() {
                    const priceOutput = document.querySelector('.ym-price-output');
                    if (priceOutput && amountInput.value) {
                        const amount = parseFloat(amountInput.value);
                        if (!isNaN(amount) && amount > 0) {
                            // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º —Å—É–º–º—É —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è–º–∏ —Ç—ã—Å—è—á
                            const formatted = amount.toLocaleString('ru-RU', {
                                minimumFractionDigits: 2,
                                maximumFractionDigits: 2
                            });
                            priceOutput.textContent = formatted + ' ‚ÇΩ';
                        } else {
                            priceOutput.textContent = '';
                        }
                    }
                }
                
                // –ó–∞–ø—É—Å–∫–∞–µ–º —Å—Ä–∞–∑—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
                updateButtonPrice();
            }
        });
    </script>
</body>
</html>
